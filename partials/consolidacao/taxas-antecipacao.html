<section class="text-center" ng-controller="TaxasAntecipacaoController">
    <h3>Taxas de Antecipação</h3>
    <br/>
    <div class="row">
        <div class="col-sm-offset-1 col-sm-8">
            <form id="form-search" ng-submit="pesquisaTxAntecipacao()" name="frmTxAntecipacao" class="form-horizontal">

                <!-- Empresa -->
                <div class="form-group">
                    <label class="control-label col-sm-3" for="empresa">Empresa:*</label>
                    <div class="col-sm-6 col-xs-6">
                        <select id="empresa" class="form-control" ng-model="empresa">
                            <option value="">Selecione uma empresa</option>
                            <option ng-repeat="empresa in empresaCaList" value="{{empresa.cnpj}}">{{empresa.razaoSocial}}</option>
                        </select>  
                    </div>
                </div>
                <div class="form-group">

                    <label class="col-sm-3 control-label" for="data-inicial">Data Inicial:*</label>
                    <div class="col-sm-3">
                        <input id="data-inicial" class="form-control" moment-picker="dataInicialFormatada" locale="pt-br" start-view="month" ng-model="dataInicial" format="DD/MM/YYYY" maxlength="10" ng-required="true" autocomplete="off" ng-model-options="{ updateOn: 'blur' }"/>
                    </div>
                    <label class="col-sm-3 control-label" for="data-final">Data Final:*</label>
                    <div class="col-sm-3">
                        <input id="data-final" class="form-control" moment-picker="dataFinalFormatada" locale="pt-br" start-view="month" ng-model="dataFinal" format="DD/MM/YYYY" maxlength="10" ng-required="true" autocomplete="off" ng-model-options="{ updateOn: 'blur' }"/>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-7"></div>
                    <div class="col-sm-5 text-center">
                        <input type="submit" class="btn btn-verde btn-lg btn-block" value="Pesquisar"/>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div>
        <div class="form-group" ng-show="showTable">
            <div class="pull-right">
                <img src="img/excel.png" class="img-responsive center-block cursor-pointer"
                     alt="Salvar dados da tabela no formato Excel"
                     title="Salvar dados da tabela no formato Excel"
                     ng-click="exportTxAntecipacao()"/>
            </div>
            <div class="col-xs-12">
                <table class="table table-striped table-condensed" cellspacing="0" width="100%">
                    <thead>
                        <tr class="cabecalho">
                            <th class="text-center texto-branco"><h4>Loja</h4></th>
                            <th class="text-center texto-branco"><h4>Operadora</h4></th>
                            <th class="text-center texto-branco"><h4>Produto</h4></td>
                            <th class="text-center texto-branco" ng-if="temTaxa[1]"><h4>1</h4></th>
                            <th class="text-center texto-branco" ng-if="temTaxa[2]"><h4>2</h4></th>
                            <th class="text-center texto-branco" ng-if="temTaxa[3]"><h4>3</h4></th>
                            <th class="text-center texto-branco" ng-if="temTaxa[4]"><h4>4</h4></th>
                            <th class="text-center texto-branco" ng-if="temTaxa[5]"><h4>5</h4></th>
                            <th class="text-center texto-branco" ng-if="temTaxa[6]"><h4>6</h4></th>
                            <th class="text-center texto-branco" ng-if="temTaxa[7]"><h4>7</h4></th>
                            <th class="text-center texto-branco" ng-if="temTaxa[8]"><h4>8</h4></th>
                            <th class="text-center texto-branco" ng-if="temTaxa[9]"><h4>9</h4></th>
                            <th class="text-center texto-branco" ng-if="temTaxa[10]"><h4>10</h4></th>
                            <th class="text-center texto-branco" ng-if="temTaxa[11]"><h4>11</h4></th>
                            <th class="text-center texto-branco" ng-if="temTaxa[12]"><h4>12</h4></th>
                            <th class="text-center texto-branco" ng-if="temTaxa[13]"><h4>13</h4></th>
                            <th class="text-center texto-branco" ng-if="temTaxa[14]"><h4>14</h4></th>
                            <th class="text-center texto-branco" ng-if="temTaxa[15]"><h4>15</h4></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="taxa in taxasAntecipacao">
                            <td class="text-left">{{taxa.loja}}</td>
                            <td class="text-left">{{taxa.operadora}}</td>
                            <td class="text-left">{{taxa.produto}}</td>
                            <td class="text-left" ng-if="temTaxa[1]">{{taxa.taxas[1]| percentage:2 }}</td>
                            <td class="text-left" ng-if="temTaxa[2]">{{taxa.taxas[2]| percentage:2 }}</td>
                            <td class="text-left" ng-if="temTaxa[3]">{{taxa.taxas[3]| percentage:2 }}</td>
                            <td class="text-left" ng-if="temTaxa[4]">{{taxa.taxas[4]| percentage:2 }}</td>
                            <td class="text-left" ng-if="temTaxa[5]">{{taxa.taxas[5]| percentage:2 }}</td>
                            <td class="text-left" ng-if="temTaxa[6]">{{taxa.taxas[6]| percentage:2 }}</td>
                            <td class="text-left" ng-if="temTaxa[7]">{{taxa.taxas[7]| percentage:2 }}</td>
                            <td class="text-left" ng-if="temTaxa[8]">{{taxa.taxas[8]| percentage:2 }}</td>
                            <td class="text-left" ng-if="temTaxa[9]">{{taxa.taxas[9]| percentage:2 }}</td>
                            <td class="text-left" ng-if="temTaxa[10]">{{taxa.taxas[10]| percentage:2 }}</td>
                            <td class="text-left" ng-if="temTaxa[11]">{{taxa.taxas[11]| percentage:2 }}</td>
                            <td class="text-left" ng-if="temTaxa[12]">{{taxa.taxas[12]| percentage:2 }}</td>
                            <td class="text-left" ng-if="temTaxa[13]">{{taxa.taxas[13]| percentage:2 }}</td>
                            <td class="text-left" ng-if="temTaxa[14]">{{taxa.taxas[14]| percentage:2 }}</td>
                            <td class="text-left" ng-if="temTaxa[15]">{{taxa.taxas[15]| percentage:2 }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

</section>
